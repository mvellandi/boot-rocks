(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))m(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&m(l)}).observe(document,{childList:!0,subtree:!0});function d(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(n){if(n.ep)return;n.ep=!0;const r=d(n);fetch(n.href,r)}})();let e=null,b=null,y=!1,S=!1,E=!1;function h(s){const t=document.getElementById(s);return t?parseFloat(t.dataset.start):0}function L(s){var d;const t=Array.from(document.querySelectorAll(".content-carousel section"));return(d=t.find((m,n)=>{const r=parseFloat(m.dataset.start),l=n<t.length-1?parseFloat(t[n+1].dataset.start):Number.MAX_SAFE_INTEGER;return s>=r&&s<l}))==null?void 0:d.id}function p(s){b!==s&&(document.querySelectorAll(".nav-item").forEach(t=>{t.classList.toggle("active",t.dataset.section===s)}),document.querySelectorAll(".mobile-menu li").forEach(t=>{t.classList.toggle("active",t.dataset.section===s)}),document.querySelectorAll(".content-carousel section").forEach(t=>{t.classList.toggle("active",t.id===s)}),b=s)}function T({seconds:s}){const t=L(s);t&&!y&&(p(t),history.replaceState(null,null,`#${t}`))}function A(){if(E)return;document.querySelector(".content-carousel").classList.remove("opacity-0"),document.body.classList.remove("no-scroll"),E=!0}document.addEventListener("DOMContentLoaded",async()=>{const s=window.location.hash.slice(1);s&&document.body.classList.add("no-scroll");const t=document.querySelectorAll(".nav-item"),d=document.getElementById("mux-player"),m=document.getElementById("thumbnail-overlay"),n=s||"intro",r=document.getElementById(n),l=r?parseFloat(r.dataset.start):0;if(s&&(window.scrollTo(0,0),await new Promise(o=>setTimeout(o,100))),A(),r&&p(n),d){e=d;const o=()=>{["media-seek-backward-button","media-seek-forward-button","media-playback-rate-button","media-rendition-menu-button","media-pip-button","media-airplay-button","media-cast-button"].forEach(i=>{var v;const c=(v=e.shadowRoot)==null?void 0:v.querySelector(i);c&&(c.style.display="none",console.log(`Hidden: ${i}`))})};setTimeout(o,500),setTimeout(o,1e3),setTimeout(o,2e3);try{await new Promise(a=>{e.readyState>=1?a():e.addEventListener("loadedmetadata",a,{once:!0})}),S=!0,console.log("Player ready, seeking to:",l),e.addEventListener("timeupdate",()=>{T({seconds:e.currentTime})}),l>0&&(e.currentTime=l),m&&(m.style.display="none")}catch(a){console.error("Error initializing player:",a)}}window.addEventListener("hashchange",async()=>{const o=window.location.hash.slice(1),a=document.getElementById(o);if(a&&o!==b&&(document.body.classList.add("no-scroll"),window.scrollTo(0,0),await new Promise(i=>setTimeout(i,100)),p(o),document.body.classList.remove("no-scroll"),e)){y=!0;const i=!e.paused;i&&e.pause(),e.currentTime=parseFloat(a.dataset.start),i&&e.play()}}),t.forEach(o=>{o.addEventListener("click",async a=>{a.preventDefault(),y=!0;const i=a.currentTarget.dataset.section;if(p(i),history.pushState({section:i},"",`#${i}`),e){const c=!e.paused;c&&e.pause(),e.currentTime=h(i),c&&e.play()}setTimeout(()=>{y=!1},1e3)})});const u=document.querySelector(".mobile-menu-button"),f=document.querySelector(".mobile-menu"),w=document.querySelector(".mobile-menu-close");(!u||!f||!w)&&console.error("Mobile menu elements not found");function g(){if(!f||!u)return;f.classList.toggle("active");const o=u.getAttribute("aria-expanded")==="true";u.setAttribute("aria-expanded",!o)}u==null||u.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),g()}),w.addEventListener("click",g),f.addEventListener("click",o=>{o.target===f&&g()}),f.querySelectorAll("li").forEach(o=>{o.addEventListener("click",async a=>{a.preventDefault(),f.classList.remove("active"),u.setAttribute("aria-expanded","false");const i=a.currentTarget.dataset.section;if(p(i),history.pushState({section:i},"",`#${i}`),e){const c=!e.paused;c&&e.pause(),e.currentTime=h(i),c&&e.play()}})}),document.querySelectorAll('.link[href^="#"]').forEach(o=>{o.addEventListener("click",async a=>{a.preventDefault(),y=!0;const i=o.getAttribute("href").slice(1);if(window.location.hash=i,window.scrollTo(0,0),e){const c=!e.paused;c&&e.pause(),e.currentTime=h(i),c&&e.play()}setTimeout(()=>{y=!1},1e3)})})});
